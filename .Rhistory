data("accident_2013.csv.bz2")
data("./accident_2013.csv.bz2")
library("nycflights13")
install.packages("nycflights13")
pryr::mem_used()
library("nycflights13")
invisible(flights)
pryr::mem_used()
:q
q()
q()
ls
list.files()
list.dirs()
pryr::mem_used()
devtools::use_readme_md(pkg = "fars")
devtools::use_readme_md()
library(devtools)
use_vignette("example")
clean_vignettes("example")
clean_vignettes("./vignettes/example.Rmd")
clean_vignettes()
clean_vignettes()
library(fars)
fars_read("data/accident_2015.csv.bz2")
fars_read("accident_2015.csv.bz2")
fars_read("./data/accident_2015.csv.bz2")
#' Read file into a dplyr's data frame tbl
whho
who()
list()
ls()
library("fars")
make_filename(2001)
library(fars)
make_filename(2015)
make_filename(2001)
library("fars")
fars_read("~/accident_2015.csv.bz2")
#fars_read("~/Documents/R-course/Course-3_Building_R_Packages/assignments/fars/data/accident_2015.csv.bz2")
library("fars")
fars_read("~/accident_2015.csv.bz2")
#fars_read("~/Documents/R-course/Course-3_Building_R_Packages/assignments/fars/data/accident_2015.csv.bz2")
fars_read_years(years = c(2013, 2015))
library(magrittr)
fars_read_years(years = c(2013, 2015))
make_filename(2017)
fars_read_years(years = 2013:2015)
fars_read_years(years = list(2013,2015))
fars_read_years(years = 2015
)
fars_read_years(years = "2015")
X <- ......(rnorm(30), nrow=5, ncol=6)
X <- (rnorm(30), nrow=5, ncol=6)
rnorm(30)
X <- matrix(rnorm(30), nrow=5, ncol=6)
X
rm(X)
list()
x <- matrix(rnorm(30), nrow=5, ncol=6)
list()
ls
ls()
sum(x)
x
sum(x, 2)
sum(x, 1)
sum(x)
sum(x, 3)
sum(x, 5)
sum(x, 6)
sum(x, 7)
sum(x, 11)
sum(x, 19)
x
append(x, sum)
append(x, 2sum)
append(x, 2, sum)
apply(x, 2, sum)
apply(x, sum)
apply(X = x, MARGIN = 2, FUN = sum)
x
apply(X = x, MARGIN = 1, FUN = sum)
fars_read_years <- function(years) {
lapply(years, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read_years <- function(years) {
lapply(years, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read_years(years = c(2013, 2015))
fars_read_years <- function(year) {
lapply(years, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read_years(years = c(2013, 2015))
fars_read_years(years = c(2013, 2015))
fars_read_years(year = c(2013, 2015))
fars_read_years <- function(year) {
lapply(year, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read_years(year = c(2013, 2015))
year <- "10-10-2007"
substr(year, 1, 4)
substr(x = year, start = 6, stop = 9)
substr(x = year, start = 7, stop = 11)
substr(x = year, start = 7, stop = 16)
substr(x = year, start = 7, stop = 10)
substr(x = year, start = 7, stop = 9)
substr(x = year, start = 7, stop = 10)
file.path("coño","puta")
fars_read(filename = "./data/accident_2015.csv.bz2")
fars_read(filename = "~/accident_2015.csv.bz2")
fars_read(filename = "./data/accident_2015.csv.bz2")
fars_read(filename = "~/accident_2015.csv.bz2")
make_filename(2001)
fars_read_years(years = c(2013, 2015))
fars_read_years <- function(years) {
lapply(years, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read_years(years = c(2013, 2015))
fars_read_years(years = c(2013, 2015))
library(magrittr)
fars_read_years(years = c(2013, 2015))
library(magrittr)
fars_read_years <- function(years) {
lapply(years, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read_years(years = c(2013, 2015))
fars_read_years <- function(years) {
lapply(years, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read_years(years = c(2013, 2015))
## magrittr needed for the operator %>%
#' Reads years and returns list with corresponding months and years
#'
#' This function reads a vector or list 'years' with four digit
#' number in the format yyyy (e.g., 1927) and if the years exist/are correct
#' the function wil returns a list with the correspondung month and year found
#' in the data
#'
#'
#' @param years It can be a vector or a list of number representing years with
#' format 'yyyy', such as in '1927'
#'
#' @return If 'years' has element corresponding with data bases's years
#' a list of months corresponding to the/these year/s is given back
#' other wise a exception error is thrown.
#'
#' @examples
#' fars_read_years(years = c(2013, 2015))
#' fars_read_years(years = 2013:2015)
#' fars_read_years(years = list(2013,2015))
#'
#' @export
#fars_read_years <- function(years) {
#        lapply(years, function(year) {
#                file <- make_filename(year)
#                #print(file)
#                tryCatch({
#                        dat <- fars_read(file)
#                        #head(dat)
#                        dplyr::mutate(dat, year = year) %>%
#                                dplyr::select(MONTH, year)
#                }, error = function(e) {
#                        warning("invalid year: ", year)
#                        return(NULL)
#                })
#        })
#}
#
#
fars_read_years <- function(years) {
lapply(years, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
date = "2016-07-20"
year <- substr(date, 1, 4)
ls()
src <- sprintf("http://cran-logs.rstudio.com/%s/%s.csv.gz", year, date)
src
dest <- file.path("data", basename(src))
dest
src
stop("melda", src)
stop("melda ", src)
require(readr)
if(require(readr)) print("coño!!")
if(!require(readr)) print("coño!!")
if(!require(magrittr)) print("coño!!")
if(!require(igraph)) print("coño!!")
ls()
detach(name = igraph.arpack.default)
detach(name = igraph)
detach(igraph)
detach("igraph")
igraph.arpack.default()
igraph.arpack.default
igraph.console()
ls(9)
ls()
rm()
ls()
check_pkg_deps <- function() {
if(!require(readr)) {
message("installing the 'readr' package")
install.packages("readr")
}
if(!require(dplyr))
stop("the 'dplyr' package needs to be installed first")
}
check_pkg_deps()
detach("igraph")
detach("package:igraph", unload = TRUE)
check_pkg_deps()
detach("package:dplyr", unload = TRUE)
detach("package:fars", unload = TRUE)
detach("package:dplyr", unload = TRUE)
check_pkg_deps <- function() {
if(!require(readr)) {
message("installing the 'readr' package")
install.packages("readr")
}
if(!require(dplyr))
stop("the 'dplyr' package needs to be installed first")
}
check_pkg_deps()
require(igraph)
require(chuta)
library(chuta)
ls()
rm (list = ls())
ls()
(.packages())
detach(name = "igraph", unload = TRUE)
detach("package:dplyr", unload = TRUE)
detach("package:igraph", unload = TRUE)
detach("package:readr", unload = TRUE)
detach("package:magrittr", unload = TRUE)
detach("package:tidyr", unload = TRUE)
detach("package:purr", unload = TRUE)
(.packages())
library(fars)
fars_read_years(years = 2015)
fars_read_years <- function(years) {
lapply(years, function(year = "2015") {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read_years(years = 2015)
fars_read_years <- function(years) {
lapply(years, function(year = "2015") {
file <- make_filename(year)
tryCatch({
dat <- fars_read(file)
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid puto year: ", year)
return(NULL)
})
})
}
fars_read_years(years = 2015)
library(fars)
fars_read_years(years = 2015)
history()
ls()
rm(list = ls())
lsd()
ls()
(.packages())
detach("package:fars", unload = TRUE)
(.packages())
library(fars)
fars_read_years(years = 2015)
fars_read_years(years = 2012:2015)
(.packages())
fars_read("./data/accident_2015.csv.bz2")
fars_read(filename = "~/accident_2015.csv.bz2")
fars_read("mistake_file_name")
make_filename(2098)
make_filename(year = 2017)
fars_read(filename = "data/accident_2013.csv.bz2")
fars_read(filename = "data/accident_2013.csv.bz2")
file <- make_filename(2013)
file
fars_read(filename = file)
fars_read(filename = "~/"+file)
file
append("f", file)
"f"+file
paste0("~/", file)
fars_read_years <- function(years) {
lapply(years, function(year) {
file <- make_filename(year)
tryCatch({
dat <- fars_read(paste0("~/", file))
dplyr::mutate(dat, year = year) %>% # the operator %>% needs to load magrittr
dplyr::select(MONTH, year)
}, error = function(e) {
warning("invalid year: ", year)
return(NULL)
})
})
}
fars_read(filename = "data/accident_2013.csv.bz2")
fars_read_years(years = 2012:2015)
fars_read_years(years = 2013:2015)
fars_read_years(years = 2013)
fars_read_years(years = 2013)
fars_read_years(years = 2015)
year
year <- 2014
file <- make_filename(year)
file
dat <- fars_read(paste0("~/", file))
dat
file
dplyr::mutate(dat, year = year)
dplyr::mutate(dat, year = year) %>%
dplyr::mutate(dat, year=year)
library(magrittr)
dplyr::mutate(dat, year = year) %>%
dplyr::select(MONTH, year)
dplyr::mutate(dat, year = year) %>%
dplyr::select(MONTH, year)
getwd()
(.packages())
library(fars)
ls()
fars_read("./data/accident_2015.csv.bz2")
fars_read(filename = "~/accident_2015.csv.bz2")
make_filname(1987)
make_filename(2001)
make_filname(1987)
make_filename(1987)
fars_read_years(2015)
fars_read_years(2013:2015)
fars_read_years(list(2013,2015))
fars_read_years
library(fars)
fars_read_years
getwd()
(.packages())
history()
library()
library(fars)
fars_read_years
update.packageStatus(object = "fars")
update.packageStatus(object = fars_map_state())
update.packageStatus(object = fars)
update.packages()
install.packages("fars")
install.packages("fars")
install.packages("fars")
install.packages("fars")
search()
(.packages())
library(devtools)
?create
(.packages())
library(fars)
fars_read_years
?document
?load_all
load_all()
fars_read_years()
fars_read_years
ls()
search()
search()
fars_read_years
library(fars)
fars_read_years
load_all
load_all()
(.packages())
library(devtools)
load_all()
fars_read_years()
fars_read_years
fars_read_years(015)
fars_read_years(2015)
library(fars)
fars_read_years
library(devtools)
load_all()
fars_read_years
load_all(recompile = TRUE)
fars_read_years(2041)
fars_read_years(2014)
fars_read_years(list(2014, 2015))
fars_read_years(c(2013:2015))
load_all(recompile = TRUE)
library(fars)
fars_read_years
(.packages())
library(devtools)
(.packages())
library(devtools)
(.packages())
build()
library(fars)
fars_read_years
load_all()
build()
fars_read_years
library(fars)
fars_read_years
library(devtools)
loaded_packages()
load_all()
fars_read_years
?build
installed.packages()
(.packages())
fars_read_years
install.packages("igraph")
build()
install()
(.packages())
library(devtools)
build()
getwd()
build()
install()
